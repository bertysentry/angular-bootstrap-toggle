!function(){"use strict";angular.module("ui.toggle",[]).value("$toggleSuppressError",!1).constant("toggleConfig",{btnCheckboxFalse:!1,btnCheckboxTrue:!0,on:"On",off:"Off",size:"",onstyle:"btn-primary",offstyle:"btn-default",toggleStyle:"",width:"",height:"",disabled:!1}).controller("ToggleController",["$scope","$attrs","$interpolate","$log","toggleConfig","$toggleSuppressError","$timeout",function(e,t,l,n,a,s,i){var o,r,g,f=this,u={$setViewValue:angular.noop},c=Object.keys(a),p=!0;angular.forEach(c,function(n,s){if(angular.isDefined(t[n]))switch(typeof a[n]){case"string":f[n]=l(t[n])(e.$parent);break;case"function":break;default:f[n]=e.$parent.$eval(t[n])}else f[n]=a[n]}),this.init=function(l){u=l,o=f.element.find("label"),r=f.element.find("span"),g=f.element.find("div"),angular.element(o[0]).html(f.on),angular.element(o[1]).html(f.off),f.computeStyle(),u.$render=function(){f.updateUI(),p&&i(function(){p=!1})},angular.isDefined(t.ngChange)&&u.$viewChangeListeners.push(function(){e.$eval(t.ngChange)})},this.computeStyle=function(){if(angular.element(o[0]).attr("disabled",f.disabled),angular.element(o[1]).attr("disabled",f.disabled),angular.element(r[0]).attr("disabled",f.disabled),e.wrapperStyle=f.toggleStyle?e.$parent.$eval(f.toggleStyle):{},f.width)e.wrapperStyle.width=f.width;else{var t=Math.max(o[0].offsetWidth,o[1].offsetWidth),l=g[0].offsetWidth;l<t?e.wrapperStyle.width=t+"px":e.wrapperStyle.width=l+"px"}if(f.height)e.wrapperStyle.height=f.height;else{var n=Math.max(o[0].offsetHeight,o[1].offsetHeight),a=g[1].offsetHeight,s=a<n&&"btn-xs"!==f.size&&"btn-sm"!==f.size;s?e.wrapperStyle.height=n+"px":e.wrapperStyle.height=a+"px"}e.onClass=[f.onstyle,f.size,"toggle-on"],e.offClass=[f.offstyle,f.size,"toggle-off"],e.handleClass=[f.size,"toggle-handle"]},this.updateUI=function(){angular.isDefined(u.$viewValue)&&u.$viewValue?e.wrapperClass=[f.onstyle,f.size,f.style]:e.wrapperClass=[f.offstyle,"off ",f.size,f.style],p&&e.wrapperClass.push("animation-disabled")},e.onSwitch=function(e){return!f.disabled&&(u.$setViewValue(!u.$viewValue),u.$render(),!0)},angular.forEach(["ngModel"],function(l){var n=e.$parent.$watch(t[l],function(e){u.$render()});e.$parent.$on("$destroy",function(){n()})}),angular.forEach(c,function(e,l){t.$observe(e,function(t){f[e]!==t&&(f[e]=t,f.computeStyle())})})}]).directive("toggle",function(){return{restrict:"E",transclude:!0,template:'<div class="toggle btn" ng-class="wrapperClass" ng-style="wrapperStyle" ng-click="onSwitch($event)"><div class="toggle-group"><label class="btn" ng-class="onClass"></label><label class="btn active" ng-class="offClass"></label><span class="btn btn-default" ng-class="handleClass"></span></div></div>',scope:{ngModel:"="},require:["toggle","ngModel"],controller:"ToggleController",controllerAs:"toggle",compile:function(e,t,l){return{pre:function(e,t,l,n){var a=n[0],s=n[1];a.element=t,a.init(s)},post:function(){}}}}})}();